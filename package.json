{
  "name": "api.huso.io",
  "description": "HUSO 开放接口。",
  "version": "1.0.0",
  "engines": {
    "node": ">=8.1.4",
    "npm": ">=5.3.0",
    "yarn": ">=0.27.5"
  },
  "pre-commit": [
    "pre-commit"
  ],
  "scripts": {
    "start": "cross-env NODE_ENV=development ./node_modules/.bin/nodemon ./server.js",
    "mongodb-start": "mongod --auth --dbpath ./data/mongodb --ipv6 --port 9123",
    "mongodb-visit": "mongo --port 9123 -u 'HusoAdmin' -p 'cnHUSO!#$246' --authenticationDatabase 'admin'",
    "mongodb-set-admin": "db.createUser({user:'HusoAdmin',pwd:'cnHUSO!#$246',roles:[{role:'root',db:'admin'}]})",
    "mongodb-verify-admin": "db.auth('HusoAdmin', 'cnHUSO!#$246')",
    "start-redis": "redis-server ./redis.conf",
    "visit-redis": "redis-cli -h 127.0.0.1 -p 9697 -a 'cnHUSO!#$246'",
    "redis-stat": "redis-cli -h 127.0.0.1 -p 9697 -a 'cnHUSO!#$246' --stat",
    "online": "cross-env NODE_ENV=production ./node_modules/.bin/pm2 start ./server.js -i 0 -e pm2-error.txt -o pm2-log.txt -f --name RestAPI",
    "offline": "./node_modules/.bin/pm2 stop RestAPI && ./node_modules/.bin/pm2 delete RestAPI",
    "online-test": "cross-env NODE_ENV=test ./node_modules/.bin/pm2 start ./server.js -i 0 -e pm2-error-test.txt -o pm2-log-test.txt -f --name RestAPI-TEST",
    "offline-test": "./node_modules/.bin/pm2 stop RestAPI-TEST && ./node_modules/.bin/pm2 delete RestAPI-TEST",
    "test": "cross-env NODE_ENV=development HTTPS=false ./node_modules/.bin/nyc --reporter=html --reporter=text --report-dir=report/coverage --cache=false ./node_modules/.bin/mocha test/setup.js test/server.js test/*-test.js -u exports -c -G -t 120s --es_staging --use_strict --check-leaks --delay",
    "prepublish": "yarn check-package",
    "pre-dev": "yarn install --force --check-files --har && npm run clean-console && node ./tool/pre.comiit.hooks.install && npm run clean-console && yarn analyze-dirs",
    "pre-online": "yarn install --force --check-files --har && npm run clean-console && echo '上线前准备工作完毕。'",
    "remount": "yarn clear && npm run clean-console && yarn install --force --check-files --har && npm run clean-console && echo '已重新安装所有依赖。'",
    "analyze-dirs": "node_modules/.bin/space-hogs",
    "lint": "node_modules/.bin/npm-run-all eslint flow",
    "eslint": "node_modules/.bin/eslint --cache -o report/.eslint-result -f tap ./route/**/*.js ./task/**/*.js ./bin/**/*.js ./config/**/*.js",
    "flow": "./node_modules/.bin/flow check",
    "clear": "node_modules/.bin/trash node_modules yarn.lock package-lock.json licenses-dev.csv licenses.csv '*.har' .DS_Store '*.rdb' '*.log' && echo '已清理。'",
    "clean-console": "node ./tool/clear.console",
    "pre-commit": "node_modules/.bin/npm-run-all --silent check-package lint",
    "check-package": "node_modules/.bin/nsp check && npm run clean-console && yarn list && npm run clean-console && yarn check --integrity && npm run clean-console && yarn deps-license",
    "deps-license": "node_modules/.bin/npm-run-all -p deps-license-development deps-license-production",
    "deps-license-development": "node_modules/.bin/license-checker --development --csv --out licenses-dev.csv",
    "deps-license-production": "node_modules/.bin/license-checker --production --csv --out licenses.csv",
    "update-authors": "sh ./tool/authors.sh",
    "lines": "node_modules/.bin/npm-run-all -p --silent lines-total lines-each",
    "lines-total": "loc --exclude node_modules > lines.txt",
    "lines-each": "wc -l $(git ls-files) > lines.each.txt"
  },
  "dependencies": {
    "async": "^2.5.0",
    "co-body": "^5.1.1",
    "copy-to": "^2.0.1",
    "cross-env": "^5.0.1",
    "dotenv": "^4.0.0",
    "glob": "^7.1.2",
    "http2": "^3.3.6",
    "kcors": "2",
    "koa": "^2.3.0",
    "koa-compress": "^2.0.0",
    "koa-helmet": "^3.2.0",
    "koa-json-error": "^3.1.2",
    "koa-logger": "^3.0.1",
    "koa-response-time": "^2.0.0",
    "koa-router": "^7.2.1",
    "lodash": "^4.17.4",
    "mongoose": "^4.11.4",
    "redis": "^2.7.1"
  },
  "devDependencies": {
    "babel-core": "^6.25.0",
    "babel-eslint": "^7.2.3",
    "babel-loader": "^7.1.1",
    "babel-plugin-syntax-dynamic-import": "^6.18.0",
    "babel-plugin-transform-async-to-generator": "^6.24.1",
    "babel-plugin-transform-class-properties": "^6.24.1",
    "babel-plugin-transform-decorators-legacy": "^1.3.4",
    "babel-plugin-transform-es3-member-expression-literals": "^6.22.0",
    "babel-plugin-transform-es3-property-literals": "^6.22.0",
    "babel-plugin-transform-flow-strip-types": "^6.22.0",
    "babel-plugin-transform-object-rest-spread": "^6.23.0",
    "babel-polyfill": "^6.23.0",
    "babel-preset-env": "^1.6.0",
    "babel-preset-flow": "^6.23.0",
    "babel-preset-latest": "^6.24.1",
    "babel-root-slash-import": "^1.1.0",
    "chai": "^4.1.0",
    "chalk": "^2.0.1",
    "eslint": "^4.3.0",
    "eslint-plugin-flowtype": "^2.35.0",
    "flow-bin": "^0.51.1",
    "git-validate": "^2.2.2",
    "gulp": "^3.9.1",
    "gulp-eslint": "^4.0.0",
    "gulp-load-plugins": "^1.5.0",
    "gulp-task-listing": "^1.0.1",
    "gulp-util": "^3.0.8",
    "license-checker": "^13.0.2",
    "mocha": "^3.4.2",
    "nodemon": "^1.11.0",
    "npm-run-all": "^4.0.2",
    "nsp": "^2.7.0",
    "nyc": "^11.0.3",
    "pm2": "^2.6.1",
    "require-dir": "^0.3.2",
    "run-sequence": "^2.1.0",
    "space-hogs": "^1.5.0",
    "supertest": "^3.0.0",
    "trash-cli": "^1.4.0"
  },
  "private": true
}
